{"version":3,"sources":["../Main.js"],"names":["ResourceLoader","BackGround","DataStore","Director","Land","Main","constructor","canvas","document","getElementById","ctx","getContext","dataStore","getInstance","director","loader","create","onLoaded","map","onResourceFirstLoaded","res","init","put","createPencil","run"],"mappings":"AAAA,SAAQA,cAAR,QAA6B,6BAA7B;AACA,SAAQC,UAAR,QAAyB,4BAAzB;AACA,SAAQC,SAAR,QAAwB,wBAAxB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAAQC,IAAR,QAAmB,sBAAnB;AAGA,OAAO,MAAMC,IAAN,CAAW;AACdC,EAAAA,WAAW,GAAE;AACT,SAAKC,MAAL,GAAcC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAd;AACA,SAAKC,GAAL,GAAW,KAAKH,MAAL,CAAYI,UAAZ,CAAuB,IAAvB,CAAX;AACA,SAAKC,SAAL,GAAiBV,SAAS,CAACW,WAAV,EAAjB;AACA,SAAKC,QAAL,GAAgBX,QAAQ,CAACU,WAAT,EAAhB;AACA,UAAME,MAAM,GAAGf,cAAc,CAACgB,MAAf,EAAf;AACAD,IAAAA,MAAM,CAACE,QAAP,CAAgBC,GAAG,IAAI,KAAKC,qBAAL,CAA2BD,GAA3B,CAAvB;AAIH;;AACDC,EAAAA,qBAAqB,CAACD,GAAD,EAAK;AACtB,SAAKN,SAAL,CAAeF,GAAf,GAAqB,KAAKA,GAA1B;AACA,SAAKE,SAAL,CAAeQ,GAAf,GAAqBF,GAArB;AACA,SAAKG,IAAL;AACH;;AAEDA,EAAAA,IAAI,GAAE;AACF,SAAKT,SAAL,CACKU,GADL,CACS,SADT,EACmB,EADnB,EAEKA,GAFL,CAES,YAFT,EAEuBrB,UAFvB,EAGKqB,GAHL,CAGS,MAHT,EAGiBlB,IAHjB;AAIA,SAAKU,QAAL,CAAcS,YAAd;AACApB,IAAAA,QAAQ,CAACU,WAAT,GAAuBW,GAAvB;AACH;;AAzBa","sourcesContent":["import {ResourceLoader} from \"./js/base/ResourceLoader.js\";\r\nimport {BackGround} from \"./js/runtime/BackGround.js\";\r\nimport {DataStore} from \"./js/base/DataStore.js\";\r\nimport {Director} from \"./js/Director.js\";\r\nimport {Land} from \"./js/runtime/Land.js\";\r\n\r\n\r\nexport class Main {\r\n    constructor(){\r\n        this.canvas = document.getElementById('game_canvas');\r\n        this.ctx = this.canvas.getContext('2d');\r\n        this.dataStore = DataStore.getInstance();\r\n        this.director = Director.getInstance();\r\n        const loader = ResourceLoader.create();\r\n        loader.onLoaded(map => this.onResourceFirstLoaded(map));\r\n\r\n\r\n\r\n    }\r\n    onResourceFirstLoaded(map){\r\n        this.dataStore.ctx = this.ctx;\r\n        this.dataStore.res = map;\r\n        this.init();\r\n    }\r\n\r\n    init(){\r\n        this.dataStore\r\n            .put('pencils',[])\r\n            .put('background', BackGround)\r\n            .put('land', Land);\r\n        this.director.createPencil();\r\n        Director.getInstance().run();\r\n    }\r\n}"],"file":"Main.js"}