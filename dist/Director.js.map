{"version":3,"sources":["../js/Director.js"],"names":["Director","constructor","DataStore","createPencil","minTop","window","maxTop","top","Math","run","value","timer","requestAnimationFrame"],"mappings":"AAAA,SAAA,SAAA,QAAA,qBAAA;AACA,SAAA,QAAA,QAAA,uBAAA;AACA,SAAA,UAAA,QAAA,yBAAA;AAEA,OAAO,MAAA,QAAA,CAAc;AAGjB,SAAA,WAAA,GAAoB;AAChB,QAAG,CAACA,QAAQ,CAAZ,QAAA,EAAsB;AAClBA,MAAAA,QAAQ,CAARA,QAAAA,GAAoB,IAApBA,QAAoB,EAApBA;AACH;;AACD,WAAOA,QAAQ,CAAf,QAAA;AACH;;AAEDC,EAAAA,WAAW,GAAE;AACT,SAAA,SAAA,GAAiBC,SAAS,CAA1B,WAAiBA,EAAjB;AACA,SAAA,SAAA,GAAA,CAAA;AACH;;AAEDC,EAAAA,YAAY,GAAE;AACV,UAAMC,MAAM,GAAGC,MAAM,CAANA,WAAAA,GAAf,CAAA;AACA,UAAMC,MAAM,GAAGD,MAAM,CAANA,WAAAA,GAAf,CAAA;AACA,UAAME,GAAG,GAAGH,MAAM,GAAGI,IAAI,CAAJA,MAAAA,MAAiBF,MAAM,GAA5C,MAAqBE,CAArB;AACA,SAAA,SAAA,CAAA,GAAA,CAAA,SAAA,EAAA,IAAA,CAAmC,IAAA,QAAA,CAAnC,GAAmC,CAAnC;AACA,SAAA,SAAA,CAAA,GAAA,CAAA,SAAA,EAAA,IAAA,CAAmC,IAAA,UAAA,CAAnC,GAAmC,CAAnC;AACH;;AAEDC,EAAAA,GAAG,GAAE;AACD,SAAA,SAAA,CAAA,GAAA,CAAA,YAAA,EAAA,IAAA;AACA,SAAA,SAAA,CAAA,GAAA,CAAA,SAAA,EAAA,OAAA,CAAsC,UAAA,KAAA,EAAiB;AACnDC,MAAAA,KAAK,CAALA,IAAAA;AADJ,KAAA;AAGA,SAAA,SAAA,CAAA,GAAA,CAAA,MAAA,EAAA,IAAA;AACA,QAAIC,KAAK,GAAGC,qBAAqB,CAAC,MAAM,KAAxC,GAAwC,EAAP,CAAjC;AACA,SAAA,SAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA;AACH;;AA/BgB","sourcesContent":["import {DataStore} from \"./base/DataStore.js\";\r\nimport {UpPencil} from \"./runtime/UpPencil.js\";\r\nimport {DownPencil} from \"./runtime/DownPencil.js\";\r\n\r\nexport class Director{\r\n\r\n\r\n    static getInstance(){\r\n        if(!Director.instance){\r\n            Director.instance = new Director();\r\n        }\r\n        return Director.instance;\r\n    }\r\n\r\n    constructor(){\r\n        this.datastore = DataStore.getInstance();\r\n        this.landSpeed = 2;\r\n    }\r\n\r\n    createPencil(){\r\n        const minTop = window.innerHeight/8;\r\n        const maxTop = window.innerHeight/2;\r\n        const top = minTop + Math.random() * (maxTop - minTop);\r\n        this.datastore.get('pencils').push(new UpPencil(top));\r\n        this.datastore.get('pencils').push(new DownPencil(top));\r\n    }\r\n\r\n    run(){\r\n        this.datastore.get('background').draw();\r\n        this.datastore.get('pencils').forEach(function (value) {\r\n            value.draw();\r\n        });\r\n        this.datastore.get('land').draw();\r\n        let timer = requestAnimationFrame(() => this.run());\r\n        this.datastore.put('timer', timer);\r\n    }\r\n}"],"file":"Director.js"}